<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SharDanOscuro - Galleria d'Arte</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@300;400;500;600;700;800;900&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #000000;
            margin: 0;
            padding: 0;
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
            position: relative;
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
        }

        /* Header */
        .header {
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(20px) saturate(180%);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            position: relative;
            z-index: 10;
        }

        .main-title {
            text-align: center;
            padding: 30px 0 20px 0;
            font-size: 3.5rem;
            font-weight: 700;
            color: #ffffff;
            letter-spacing: -0.02em;
        }

        .nav-bar {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 15px 0;
            gap: 40px;
            flex-wrap: wrap;
        }

        .nav-item {
            color: #ffffff;
            text-decoration: none;
            font-size: 1rem;
            font-weight: 500;
            padding: 8px 16px;
            border-radius: 20px;
            transition: all 0.3s ease;
            position: relative;
            cursor: pointer;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
        }

        .nav-item.active {
            background: #ffffff;
            color: #000000;
            font-weight: 500;
        }

        /* Search Bar */
        .search-container {
            max-width: 1200px;
            margin: 40px auto;
            padding: 0 20px;
            position: relative;
            z-index: 10;
        }

        .search-box {
            position: relative;
            max-width: 500px;
            margin: 0 auto;
        }

        .search-input {
            width: 100%;
            padding: 15px 50px 15px 20px;
            border: none;
            border-radius: 25px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            font-size: 1rem;
            outline: none;
            box-shadow: 0 4px 20px rgba(157, 78, 221, 0.3);
            transition: all 0.3s ease;
            color: #ffffff;
            border: 1px solid rgba(157, 78, 221, 0.3);
        }

        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .search-input:focus {
            box-shadow: 0 8px 30px rgba(157, 78, 221, 0.5);
            background: rgba(255, 255, 255, 0.15);
            border-color: #9d4edd;
        }

        .search-icon {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #9d4edd;
            font-size: 1.2rem;
        }

        /* Gallery Container */
        .gallery-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px 80px 20px;
            position: relative;
            z-index: 10;
        }

        /* Filters */
        .filters {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 10px 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .filter-btn:hover, .filter-btn.active {
            background: rgba(255, 255, 255, 0.9);
            color: #000000;
            border-color: white;
            transform: translateY(-2px);
        }

        /* Gallery Grid */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            animation: fadeInUp 0.8s ease-out;
        }

        .artwork-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            position: relative;
        }

        .artwork-card.service-card::after {
            content: "SERVIZIO";
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(45deg, #27ae60, #229954);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            z-index: 10;
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.4);
        }

        .artwork-card.info-card::after {
            content: "INFO";
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            z-index: 10;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.4);
        }

        .artwork-card.work-in-progress::after {
            content: attr(data-progress);
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(45deg, #f39c12, #e67e22);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            z-index: 10;
            box-shadow: 0 4px 15px rgba(243, 156, 18, 0.4);
        }

        .artwork-card.work-in-progress.reserved::after {
            content: "RISERVATO";
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.4);
        }

        .artwork-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
            border-color: rgba(157, 78, 221, 0.5);
        }

        .artwork-image {
            width: 100%;
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            font-weight: 600;
            position: relative;
            overflow: hidden;
            border-radius: 20px 20px 0 0;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .artwork-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
        }

        .artwork-image.loading {
            background: linear-gradient(45deg, #667eea, #764ba2);
        }

        .artwork-image.loading::after {
            content: "🎨";
            font-size: 2rem;
            animation: pulse 2s infinite;
        }

        .artwork-card:hover .artwork-image img {
            transform: scale(1.05);
        }

        .artwork-image picture {
            width: 100%;
            height: 100%;
        }

        .artwork-image picture img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .artwork-info {
            padding: 20px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }

        .artwork-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 8px;
            color: #000000;
        }

        .artwork-category {
            color: #666666;
            font-size: 0.9rem;
            font-weight: 500;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .artwork-price {
            font-size: 1.1rem;
            font-weight: 700;
            color: #000000;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(15px);
            z-index: 2000;
            animation: modalFadeIn 0.3s ease;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: 
                linear-gradient(145deg, rgba(26, 10, 46, 0.95) 0%, rgba(22, 33, 62, 0.9) 100%);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(157, 78, 221, 0.5);
            border-radius: 20px;
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            animation: modalSlideIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 
                0 0 50px rgba(157, 78, 221, 0.6),
                inset 0 0 30px rgba(157, 78, 221, 0.2);
        }

        .modal-header {
            position: relative;
            height: 400px;
            overflow: hidden;
            border-radius: 18px 18px 0 0;
        }

        .modal-image {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
            font-weight: 600;
            position: relative;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .modal-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .modal-image picture {
            width: 100%;
            height: 100%;
        }

        .modal-image picture img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background: rgba(157, 78, 221, 0.8);
            border: none;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            box-shadow: 0 0 20px rgba(157, 78, 221, 0.6);
        }

        .close-btn:hover {
            background: rgba(157, 78, 221, 1);
            transform: scale(1.1);
            box-shadow: 0 0 30px rgba(157, 78, 221, 0.8);
        }

        .modal-body {
            padding: 30px;
            color: white;
        }

        .modal-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: #ffd700;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.6);
        }

        .modal-category {
            color: rgba(255, 255, 255, 0.6);
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .modal-description {
            font-size: 1.1rem;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 30px;
        }

        .modal-price {
            font-size: 2rem;
            font-weight: 700;
            color: #4ecdc4;
            margin-bottom: 30px;
            text-shadow: 0 0 20px rgba(78, 205, 196, 0.6);
        }

        .contact-btn {
            background: linear-gradient(45deg, #ffd700, #ffa500);
            color: #0a0014;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .contact-btn:hover {
            background: linear-gradient(45deg, #ffa500, #ff8c00);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(255, 165, 0, 0.4);
        }

        /* Animazioni */
        @keyframes pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes modalFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translate(-50%, -60%) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        .image-loader {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top: 3px solid #fff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            z-index: 5;
        }

        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .main-title {
                font-size: 2.5rem;
                padding: 20px 0 15px 0;
            }

            .nav-bar {
                gap: 20px;
            }

            .nav-item {
                font-size: 0.9rem;
                padding: 6px 12px;
            }

            .gallery-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                gap: 20px;
            }

            .modal-content {
                width: 95%;
                margin: 20px;
            }

            .modal-header {
                height: 250px;
            }

            .modal-title {
                font-size: 2rem;
            }

            .modal-body {
                padding: 20px;
            }
        }

        @media (max-width: 480px) {
            .main-title {
                font-size: 2rem;
            }

            .nav-bar {
                flex-direction: column;
                gap: 10px;
            }

            .filters {
                gap: 10px;
            }

            .gallery-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <h1 class="main-title">SHARDANOSCURO</h1>
            <nav class="nav-bar">
                <span class="nav-item active" data-category="disponibile">Opere Disponibili</span>
                <span class="nav-item" data-category="venduto">Quadri Venduti</span>
                <span class="nav-item" data-category="work-in-progress">Work in Progress</span>
                <span class="nav-item" data-category="chi-sono">Chi Sono</span>
                <span class="nav-item" data-category="commissioni">Commissioni</span>
                <a href="#contatti" class="nav-item">Contatti</a>
            </nav>
        </div>
    </header>

    <!-- Search Bar -->
    <div class="search-container">
        <div class="search-box">
            <input type="text" class="search-input" placeholder="Cerca opere d'arte..." id="searchInput">
            <span class="search-icon">🔍</span>
        </div>
    </div>

    <!-- Gallery -->
    <div class="gallery-container">
        <!-- Filters -->
        <div class="filters">
            <button class="filter-btn active" data-price="all">Tutti i Prezzi</button>
            <button class="filter-btn" data-price="low">Sotto €200</button>
            <button class="filter-btn" data-price="medium">€200 - €500</button>
            <button class="filter-btn" data-price="high">Oltre €500</button>
        </div>

        <!-- Gallery Grid -->
        <div class="gallery-grid" id="galleryGrid">
            <div class="loading">
                <div class="image-loader"></div>
                Caricamento opere d'arte...
            </div>
        </div>
    </div>

    <!-- Artwork Modal -->
    <div class="modal" id="artworkModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-image" id="modalImage">
                    🎨 Immagine Opera
                </div>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <h2 class="modal-title" id="modalTitle">Titolo Opera</h2>
                <div class="modal-category" id="modalCategory">Categoria</div>
                <p class="modal-description" id="modalDescription">Descrizione dell'opera...</p>
                <div class="modal-price" id="modalPrice">€ 0,00</div>
                <button class="contact-btn" id="contactBtn" onclick="contactForArtwork()">
                    Contattami per Acquistare
                </button>
            </div>
        </div>
    </div>

    <!-- Contact Section -->
    <div style="background: #000000; padding: 60px 20px; margin: 60px 20px; text-align: center; border-radius: 20px;" id="contatti">
        <h2 style="font-size: 2.5rem; margin-bottom: 20px; color: #ffffff; font-weight: 700;">Contattami</h2>
        <p style="font-size: 1.2rem; margin-bottom: 40px; color: rgba(255, 255, 255, 0.8);">Interessato a una delle mie opere? Scrivimi!</p>
        
        <div style="display: grid; grid-template-columns: repeat(2, 1fr); max-width: 600px; gap: 30px; margin: 40px auto 0 auto;">
            <div style="padding: 30px; background: #2a2a2a; border-radius: 20px; transition: all 0.3s ease;">
                <div style="font-size: 2rem; margin-bottom: 15px;">📱</div>
                <h3 style="color: #ffffff; margin-bottom: 10px;">WhatsApp</h3>
                <p style="color: rgba(255, 255, 255, 0.8);">+39 351 907 0827</p>
            </div>
            
            <div style="padding: 30px; background: #2a2a2a; border-radius: 20px; transition: all 0.3s ease;">
                <div style="font-size: 2rem; margin-bottom: 15px;">🎮</div>
                <h3 style="color: #ffffff; margin-bottom: 10px;">Twitch</h3>
                <p style="color: rgba(255, 255, 255, 0.8);">twitch.tv/shardan_oscuro</p>
            </div>
        </div>
    </div>

    <script>
        // ====== CONFIGURAZIONE SISTEMA IMMAGINI ======
        const imageConfig = {
            folders: {
                thumbnails: 'assets/images/thumbnails/',
                medium: 'assets/images/medium/',
                fullsize: 'assets/images/fullsize/'
            },
            formats: ['webp', 'jpg', 'png'],
            defaultFallback: 'default-artwork.jpg'
        };

        // ====== DATABASE COMPLETO OPERE D'ARTE ======
        const allArtworks = [
            // OPERE DISPONIBILI
            {
                id: 'aurora-boreale',
                title: 'Aurora Boreale',
                category: 'disponibile',
                description: 'La magia dei cieli del nord catturata su tela. Colori danzanti che si riflettono sulla neve, creando un'atmosfera mistica e surreale.',
                price: '€ 250,00',
                priceValue: 250,
                year: 2024,
                dimensions: '60x40cm',
                technique: 'Acrilici su tela',
                image: 'aurora-boreale.jpg',
                gradient: 'linear-gradient(45deg, #a8edea, #fed6e3)',
                tags: ['nebulosa', 'oscuro', 'venduto']
            },
            {
                id: 'eternal-sunset',
                title: 'Tramonto Eterno',
                category: 'venduto',
                description: 'I colori del tramonto catturati in un momento di eternità. Un\'opera che trasmette pace e serenità.',
                price: '€ 190,00 (VENDUTO)',
                priceValue: 190,
                year: 2023,
                dimensions: '40x60cm',
                technique: 'Acrilici su tela',
                image: 'eternal-sunset.jpg',
                gradient: 'linear-gradient(45deg, #ff7e5f, #feb47b)',
                soldDate: '2023',
                tags: ['tramonto', 'pace', 'venduto']
            },

            // WORK IN PROGRESS
            {
                id: 'crystal-formation',
                title: 'Formazione Cristallina',
                category: 'work-in-progress',
                description: 'Un\'opera in fase di completamento che esplora le geometrie naturali dei cristalli. Disponibile per prenotazione.',
                price: '€ 240,00',
                priceValue: 240,
                year: 2024,
                dimensions: '50x50cm',
                technique: 'Acrilici su tela',
                image: 'crystal-formation-wip.jpg',
                gradient: 'linear-gradient(45deg, #e0c3fc, #9bb5ff)',
                progress: '70%',
                isReserved: false,
                tags: ['cristalli', 'geometria', 'wip']
            },
            {
                id: 'digital-storm',
                title: 'Tempesta Digitale',
                category: 'work-in-progress',
                description: 'Opera commissiona che rappresenta l\'energia del mondo digitale. Attualmente riservata al committente.',
                price: '€ 320,00',
                priceValue: 320,
                year: 2024,
                dimensions: '60x80cm',
                technique: 'Acrilici su tela',
                image: null,
                gradient: 'linear-gradient(45deg, #667eea, #764ba2)',
                progress: '45%',
                isReserved: true,
                tags: ['digitale', 'tempesta', 'riservato']
            },
            {
                id: 'nature-symphony',
                title: 'Sinfonia della Natura',
                category: 'work-in-progress',
                description: 'Un\'opera che celebra l\'armonia della natura attraverso colori e forme organiche. Quasi completata.',
                price: '€ 280,00',
                priceValue: 280,
                year: 2024,
                dimensions: '70x50cm',
                technique: 'Acrilici su tela',
                image: 'nature-symphony-wip.jpg',
                gradient: 'linear-gradient(45deg, #56ab2f, #a8e6cf)',
                progress: '90%',
                isReserved: false,
                tags: ['natura', 'armonia', 'wip']
            },

            // CHI SONO
            {
                id: 'about-me',
                title: 'La Mia Arte',
                category: 'chi-sono',
                description: 'Benvenuto nel mio mondo artistico! Sono SharDanOscuro, un artista che esplora l\'incontro tra tradizione e modernità. Le mie opere nascono dalla passione per i colori vibranti e le forme dinamiche.',
                price: 'Scopri di più',
                priceValue: 0,
                year: 2024,
                dimensions: 'La mia storia',
                technique: 'Arte e Passione',
                image: 'artist-profile.jpg',
                gradient: 'linear-gradient(45deg, #667eea, #764ba2)',
                tags: ['artista', 'biografia', 'passione']
            },
            {
                id: 'artistic-journey',
                title: 'Il Mio Percorso',
                category: 'chi-sono',
                description: 'Dal 2020 ho iniziato a dedicarmi completamente all\'arte. Ogni opera racconta una storia, ogni colore porta un\'emozione. La mia tecnica mescola tradizione accademica e sperimentazione contemporanea.',
                price: 'La mia evoluzione',
                priceValue: 0,
                year: 2024,
                dimensions: 'Crescita continua',
                technique: 'Sperimentazione',
                image: null,
                gradient: 'linear-gradient(45deg, #f093fb, #f5576c)',
                tags: ['percorso', 'evoluzione', 'tecnica']
            },

            // COMMISSIONI
            {
                id: 'custom-portrait',
                title: 'Ritratti Personalizzati',
                category: 'commissioni',
                description: 'Realizzo ritratti personalizzati su commissione. Dalla foto al dipinto, catturando l\'essenza della persona con il mio stile unico.',
                price: 'Da € 200,00',
                priceValue: 200,
                year: 2024,
                dimensions: 'Varie misure',
                technique: 'Acrilici su tela',
                image: 'custom-portrait-sample.jpg',
                gradient: 'linear-gradient(45deg, #ffecd2, #fcb69f)',
                tags: ['ritratto', 'commissione', 'personalizzato']
            },
            {
                id: 'abstract-commission',
                title: 'Opere Astratte su Misura',
                category: 'commissioni',
                description: 'Creo opere astratte personalizzate basate sui tuoi colori e stile preferiti. Perfette per arredare spazi con un tocco artistico unico.',
                price: 'Da € 150,00',
                priceValue: 150,
                year: 2024,
                dimensions: 'Su richiesta',
                technique: 'Acrilici su tela',
                image: 'abstract-commission-sample.jpg',
                gradient: 'linear-gradient(45deg, #a8edea, #fed6e3)',
                tags: ['astratto', 'personalizzato', 'arredamento']
            },
            {
                id: 'live-painting',
                title: 'Live Painting Eventi',
                category: 'commissioni',
                description: 'Spettacolo di live painting per eventi, matrimoni e feste. Creo un\'opera dal vivo mentre gli ospiti assistono al processo creativo.',
                price: 'Su preventivo',
                priceValue: 0,
                year: 2024,
                dimensions: 'Performance dal vivo',
                technique: 'Spettacolo artistico',
                image: null,
                gradient: 'linear-gradient(45deg, #ff6b6b, #ffa500)',
                tags: ['live', 'evento', 'spettacolo']
            }
        ];

        // ====== VARIABILI GLOBALI ======
        let filteredArtworks = [];
        let currentArtwork = null;

        // ====== FUNZIONI GESTIONE IMMAGINI OTTIMIZZATE ======
        function createOptimizedImage(artwork, size = 'thumbnail') {
            const folder = imageConfig.folders[size] || imageConfig.folders.thumbnails;
            
            if (!artwork.image) {
                return `
                    <div style="background: ${artwork.gradient}; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.2rem; font-weight: 600;">
                        🎨 ${artwork.title}
                    </div>
                `;
            }

            const baseName = artwork.image.split('.')[0];
            
            return `
                <picture>
                    <source srcset="${folder}${baseName}.webp" type="image/webp">
                    <source srcset="${folder}${baseName}.jpg" type="image/jpeg">
                    <img src="${folder}${baseName}.jpg" 
                         alt="${artwork.title}" 
                         loading="lazy"
                         decoding="async"
                         onload="this.style.opacity=1"
                         onerror="handleImageError(this, '${artwork.gradient}', '${artwork.title}')"
                         style="opacity: 0; transition: opacity 0.3s ease;">
                </picture>
            `;
        }

        function handleImageError(img, gradient, title) {
            const container = img.closest('.artwork-image') || img.closest('.modal-image');
            if (container) {
                container.style.background = gradient;
                container.innerHTML = `🎨 ${title}`;
            }
        }

        function setupLazyLoading() {
            if ('IntersectionObserver' in window) {
                const imageObserver = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const img = entry.target;
                            if (img.dataset.src) {
                                img.src = img.dataset.src;
                                img.removeAttribute('data-src');
                            }
                            observer.unobserve(img);
                        }
                    });
                });

                document.querySelectorAll('img[data-src]').forEach(img => {
                    imageObserver.observe(img);
                });
            }
        }

        function preloadCriticalImages() {
            const criticalArtworks = allArtworks.filter(artwork => 
                artwork.category === 'disponibile' && artwork.image
            ).slice(0, 3);
            
            criticalArtworks.forEach(artwork => {
                if (artwork.image) {
                    const img = new Image();
                    const baseName = artwork.image.split('.')[0];
                    img.src = `${imageConfig.folders.thumbnails}${baseName}.webp`;
                }
            });
        }

        // ====== FUNZIONI RENDERING ======
        function renderGallery() {
            const gallery = document.getElementById('galleryGrid');
            
            if (!filteredArtworks || filteredArtworks.length === 0) {
                const activeCategory = document.querySelector('.nav-item.active').dataset.category;
                const emptyMessage = getEmptyMessage(activeCategory);
                
                gallery.innerHTML = `
                    <div style="text-align: center; padding: 60px 20px; color: white; font-size: 1.2rem;">
                        <div style="font-size: 3rem; margin-bottom: 20px;">🎨</div>
                        ${emptyMessage}
                    </div>
                `;
                return;
            }

            gallery.innerHTML = '';

            filteredArtworks.forEach((artwork, index) => {
                const card = document.createElement('div');
                let cardClasses = 'artwork-card';
                
                if (artwork.category === 'venduto') {
                    cardClasses += ' sold';
                } else if (artwork.category === 'work-in-progress') {
                    cardClasses += ' work-in-progress';
                    if (artwork.isReserved) {
                        cardClasses += ' reserved';
                    }
                } else if (artwork.category === 'chi-sono') {
                    cardClasses += ' info-card';
                } else if (artwork.category === 'commissioni') {
                    cardClasses += ' service-card';
                }
                
                card.className = cardClasses;
                
                if (artwork.category === 'work-in-progress' && artwork.progress && !artwork.isReserved) {
                    card.setAttribute('data-progress', artwork.progress.toUpperCase());
                }
                
                card.onclick = () => openModal(artwork);
                
                const imageContent = createOptimizedImage(artwork, 'thumbnail');
                
                let cardContent = `
                    <div class="artwork-image">
                        ${imageContent}
                    </div>
                    <div class="artwork-info">
                        <h3 class="artwork-title">${artwork.title}</h3>
                        <div class="artwork-category">${getCategoryName(artwork.category)}</div>
                        ${artwork.dimensions ? `<div style="color: #999; font-size: 0.9rem; margin-bottom: 5px;">${artwork.dimensions} • ${artwork.year}</div>` : ''}
                        <div class="artwork-price">${artwork.price}</div>
                    </div>
                `;
                
                card.innerHTML = cardContent;
                card.style.animationDelay = `${index * 0.1}s`;
                gallery.appendChild(card);
            });

            setupLazyLoading();
        }

        function getCategoryName(category) {
            const categories = {
                'disponibile': 'Disponibile',
                'venduto': 'Venduto',
                'work-in-progress': 'In Lavorazione',
                'chi-sono': 'Informazioni',
                'commissioni': 'Servizio',
                'collezione-privata': 'Collezione Privata'
            };
            return categories[category] || category;
        }

        function getEmptyMessage(category) {
            const messages = {
                'venduto': '🎨 Nessun quadro venduto da mostrare al momento',
                'work-in-progress': '🎨 Nessuna opera in corso al momento',
                'chi-sono': '📋 Nessuna informazione disponibile al momento',
                'commissioni': '🎨 Nessun servizio disponibile al momento',
                'disponibile': '🎨 Nessuna opera disponibile al momento'
            };
            return messages[category] || '🎨 Nessuna opera trovata';
        }

        // ====== FUNZIONI FILTRI ======
        function filterByCategory(category) {
            if (category === 'all') {
                filteredArtworks = [...allArtworks];
            } else {
                filteredArtworks = allArtworks.filter(artwork => artwork.category === category);
            }
            applyCurrentFilters();
            renderGallery();
        }

        function filterByPrice(priceRange) {
            let filtered = [...allArtworks];
            
            const activeCategory = document.querySelector('.nav-item.active').dataset.category;
            if (activeCategory && activeCategory !== 'all') {
                filtered = filtered.filter(artwork => artwork.category === activeCategory);
            }
            
            if (priceRange !== 'all') {
                filtered = filtered.filter(artwork => {
                    const price = artwork.priceValue || 0;
                    switch (priceRange) {
                        case 'low': return price < 200;
                        case 'medium': return price >= 200 && price <= 500;
                        case 'high': return price > 500;
                        default: return true;
                    }
                });
            }
            
            filteredArtworks = filtered;
            renderGallery();
        }

        function applyCurrentFilters() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            if (searchTerm) {
                filteredArtworks = filteredArtworks.filter(artwork => 
                    artwork.title.toLowerCase().includes(searchTerm) ||
                    artwork.description.toLowerCase().includes(searchTerm) ||
                    artwork.category.toLowerCase().includes(searchTerm) ||
                    (artwork.tags && artwork.tags.some(tag => tag.toLowerCase().includes(searchTerm)))
                );
            }
            
            const activePriceFilter = document.querySelector('.filter-btn.active').dataset.price;
            if (activePriceFilter !== 'all') {
                filteredArtworks = filteredArtworks.filter(artwork => {
                    const price = artwork.priceValue || 0;
                    switch (activePriceFilter) {
                        case 'low': return price < 200;
                        case 'medium': return price >= 200 && price <= 500;
                        case 'high': return price > 500;
                        default: return true;
                    }
                });
            }
        }

        function searchArtworks() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            
            if (!searchTerm) {
                const activeCategory = document.querySelector('.nav-item.active').dataset.category;
                filterByCategory(activeCategory || 'all');
                return;
            }
            
            filteredArtworks = allArtworks.filter(artwork => 
                artwork.title.toLowerCase().includes(searchTerm) ||
                artwork.description.toLowerCase().includes(searchTerm) ||
                artwork.category.toLowerCase().includes(searchTerm) ||
                (artwork.tags && artwork.tags.some(tag => tag.toLowerCase().includes(searchTerm)))
            );
            
            applyCurrentFilters();
            renderGallery();
        }

        // ====== FUNZIONI MODAL ======
        function openModal(artwork) {
            currentArtwork = artwork;
            
            const modal = document.getElementById('artworkModal');
            const modalImage = document.getElementById('modalImage');
            const modalTitle = document.getElementById('modalTitle');
            const modalCategory = document.getElementById('modalCategory');
            const modalDescription = document.getElementById('modalDescription');
            const modalPrice = document.getElementById('modalPrice');
            const contactBtn = document.getElementById('contactBtn');
            
            const imageContent = createOptimizedImage(artwork, 'medium');
            modalImage.innerHTML = imageContent;
            
            modalTitle.textContent = artwork.title;
            modalCategory.textContent = getCategoryName(artwork.category);
            
            let description = artwork.description;
            if (artwork.category === 'venduto' && artwork.soldDate) {
                description += `\n\nVenduto nel ${artwork.soldDate}`;
            }
            if (artwork.dimensions && artwork.technique) {
                description += `\n\nDimensioni: ${artwork.dimensions}\nTecnica: ${artwork.technique}`;
            }
            if (artwork.tags) {
                description += `\n\nTags: ${artwork.tags.join(', ')}`;
            }
            
            modalDescription.textContent = description;
            modalPrice.textContent = artwork.price;
            
            if (artwork.category === 'venduto') {
                contactBtn.textContent = 'Informazioni su Quest\'Opera';
            } else if (artwork.category === 'work-in-progress') {
                contactBtn.textContent = artwork.isReserved ? 'Opera già Commissionata' : 'Prenota Quest\'Opera';
            } else if (artwork.category === 'chi-sono') {
                contactBtn.textContent = 'Contattami per Saperne di Più';
            } else if (artwork.category === 'commissioni') {
                contactBtn.textContent = 'Richiedi Questo Servizio';
            } else {
                contactBtn.textContent = 'Contattami per Acquistare';
            }
            
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            const modal = document.getElementById('artworkModal');
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
            currentArtwork = null;
        }

        function contactForArtwork() {
            if (!currentArtwork) return;
            
            let message;
            if (currentArtwork.category === 'venduto') {
                message = `Ciao! Vorrei avere informazioni sull'opera "${currentArtwork.title}" che hai realizzato.`;
            } else if (currentArtwork.category === 'work-in-progress') {
                if (currentArtwork.isReserved) {
                    message = `Ciao! Ho visto l'opera "${currentArtwork.title}" nei tuoi work in progress.`;
                } else {
                    message = `Ciao! Sono interessato a prenotare l'opera "${currentArtwork.title}" (${currentArtwork.price}).`;
                }
            } else if (currentArtwork.category === 'chi-sono') {
                message = `Ciao! Ho letto le informazioni su "${currentArtwork.title}". Mi piacerebbe saperne di più!`;
            } else if (currentArtwork.category === 'commissioni') {
                message = `Ciao! Sono interessato al servizio "${currentArtwork.title}".`;
            } else {
                message = `Ciao! Sono interessato all'opera "${currentArtwork.title}" (${currentArtwork.price}).`;
            }
            
            const whatsappUrl = `https://wa.me/393519070827?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        // ====== INIZIALIZZAZIONE ======
        function loadArtworks() {
            filteredArtworks = allArtworks.filter(artwork => artwork.category === 'disponibile');
            renderGallery();
            preloadCriticalImages();
        }

        // ====== EVENT LISTENERS ======
        document.addEventListener('DOMContentLoaded', function() {
            loadArtworks();
            
            // Navigation
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    if (this.getAttribute('href') === '#contatti') return;
                    if (this.onclick) return;
                    
                    e.preventDefault();
                    
                    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                    this.classList.add('active');
                    
                    const category = this.dataset.category;
                    if (category) {
                        filterByCategory(category);
                    }
                });
            });
            
            // Price filters
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    const priceRange = this.dataset.price;
                    filterByPrice(priceRange);
                });
            });
            
            // Search
            document.getElementById('searchInput').addEventListener('input', searchArtworks);
            
            // Modal events
            document.getElementById('artworkModal').addEventListener('click', function(e) {
                if (e.target === this) closeModal();
            });
            
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') closeModal();
            });
            
            // Smooth scroll
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        e.preventDefault();
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        });

        // Header scroll effect
        window.addEventListener('scroll', function() {
            const header = document.querySelector('.header');
            if (window.scrollY > 100) {
                header.style.background = 'rgba(0, 0, 0, 0.98)';
            } else {
                header.style.background = 'rgba(0, 0, 0, 0.95)';
            }
        });

        // Performance tracking (dev only)
        if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
            function trackImageLoadingPerformance() {
                if ('PerformanceObserver' in window) {
                    const observer = new PerformanceObserver((list) => {
                        const entries = list.getEntries();
                        entries.forEach(entry => {
                            if (entry.name.includes('/assets/images/')) {
                                console.log(`Immagine caricata: ${entry.name} in ${entry.duration}ms`);
                            }
                        });
                    });
                    observer.observe({ entryTypes: ['resource'] });
                }
            }
            trackImageLoadingPerformance();
        }
    </script>
</body>
</html>paesaggio', 'colori', 'natura']
            },
            {
                id: 'galassia-digitale',
                title: 'Galassia Digitale',
                category: 'disponibile',
                description: 'Un\'opera che cattura l\'essenza dell\'arte moderna con colori vibranti e geometrie futuristiche. Un viaggio attraverso dimensioni digitali.',
                price: '€ 180,00',
                priceValue: 180,
                year: 2024,
                dimensions: '40x50cm',
                technique: 'Acrilici su tela',
                image: 'galassia-digitale.jpg',
                gradient: 'linear-gradient(45deg, #667eea, #764ba2)',
                tags: ['astratto', 'digitale', 'moderno']
            },
            {
                id: 'neon-dreams',
                title: 'Neon Dreams',
                category: 'disponibile',
                description: 'Esplosione di colori vibranti che rappresenta l\'energia e la passione dell\'arte contemporanea. Un sogno al neon prendere vita.',
                price: '€ 220,00',
                priceValue: 220,
                year: 2024,
                dimensions: '50x70cm',
                technique: 'Acrilici su tela',
                image: 'neon-dreams.jpg',
                gradient: 'linear-gradient(45deg, #f093fb, #f5576c)',
                tags: ['neon', 'vibrante', 'energia']
            },
            {
                id: 'cosmic-warfare',
                title: 'Cosmic Warfare',
                category: 'disponibile',
                description: 'Battaglia di colori e forme che rappresenta l\'energia cosmica dell\'universo. Un conflitto stellare reso attraverso pennellate dinamiche.',
                price: '€ 195,00',
                priceValue: 195,
                year: 2024,
                dimensions: '60x80cm',
                technique: 'Acrilici su tela',
                image: null,
                gradient: 'linear-gradient(45deg, #4facfe, #00f2fe)',
                tags: ['cosmico', 'battaglia', 'universo']
            },
            {
                id: 'ocean-depths',
                title: 'Profondità Oceaniche',
                category: 'disponibile',
                description: 'Un tuffo nelle profondità marine, dove la luce filtra creando giochi di colore e movimento. L\'immensità dell\'oceano catturata su tela.',
                price: '€ 270,00',
                priceValue: 270,
                year: 2024,
                dimensions: '70x50cm',
                technique: 'Acrilici su tela',
                image: 'ocean-depths.jpg',
                gradient: 'linear-gradient(45deg, #0f4c75, #3282b8)',
                tags: ['oceano', 'blu', 'profondità']
            },
            {
                id: 'fire-dance',
                title: 'Danza del Fuoco',
                category: 'disponibile',
                description: 'Le fiamme prendono vita in una danza eterna. Colori caldi che si intrecciano in movimenti fluidi e appassionati.',
                price: '€ 210,00',
                priceValue: 210,
                year: 2024,
                dimensions: '50x60cm',
                technique: 'Acrilici su tela',
                image: 'fire-dance.jpg',
                gradient: 'linear-gradient(45deg, #ff6b6b, #ffa500)',
                tags: ['fuoco', 'danza', 'passione']
            },

            // OPERE VENDUTE
            {
                id: 'flowing-souls',
                title: 'Flowing Souls',
                category: 'venduto',
                description: 'Dipinto ad acrilico su tela, quest\'opera cattura l\'essenza dell\'incontro tra elementi opposti. Venduto a un collezionista privato.',
                price: '€ 280,00 (VENDUTO)',
                priceValue: 280,
                year: 2024,
                dimensions: '50x70cm',
                technique: 'Acrilici su tela',
                image: 'flowing-souls.jpg',
                gradient: 'linear-gradient(45deg, #ff6b6b, #4ecdc4)',
                soldDate: '2024',
                tags: ['anime', 'contrasti', 'venduto']
            },
            {
                id: 'nebulosa-oscura',
                title: 'Nebulosa Oscura',
                category: 'venduto',
                description: 'Un\'opera che cattura l\'essenza dell\'universo con atmosfere oscure e misteriose. Prima opera della serie cosmica.',
                price: '€ 160,00 (VENDUTO)',
                priceValue: 160,
                year: 2023,
                dimensions: '30x40cm',
                technique: 'Acrilici su tela',
                image: 'nebulosa-oscura.jpg',
                gradient: 'linear-gradient(45deg, #2c3e50, #4a6741)',
                soldDate: '2023',
                tags: ['
